<header>
  <div class="container">
    <h1 class="logo">On-Demand-Tutor</h1>
    <nav>
      <ul>
        <li><a href="home">Trang chá»§ </a></li>
        <li><a routerLink="/find">TÃ¬m gia sÆ° </a></li>
        <li><a href="about">Vá» chÃºng tÃ´i </a></li>
        <li><a href="contact">LiÃªn há»‡</a></li>
      </ul>
    </nav>


    <!-- Avatar with dropdown -->
    <div class="avatar-menu">
      <img
        routerLink="/profile"
        src="https://scontent.fsgn5-8.fna.fbcdn.net/v/t1.30497-1/453178253_471506465671661_2781666950760530985_n.png?stp=cp0_dst-png_s40x40&_nc_cat=1&_nc_sid=f5662c&_nc_ohc=tt8z1knDr6oQ7kNvwFjQZQP&_nc_oc=Adk5B7vST1kxheuDFvqXNcGF0AT-StYQlRAF_N5nEtnIsX2Q8quYivqMwcI7E2Rzf1s&_nc_zt=24&_nc_ht=scontent.fsgn5-8.fna&oh=00_AfUR6sbbnNPL0DBOS2edROl-_BZrbtGnFvF5NT6apAaLkQ&oe=68CB583A"
        class="auth-avatar"
        alt="Avatar"
      />


    </div>
  </div>
</header>

<main class="update-page">
  <div class="content-wrapper"></div>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="profile-avatar" >
      <img src="https://scontent.fsgn5-8.fna.fbcdn.net/v/t1.30497-1/453178253_471506465671661_2781666950760530985_n.png?stp=cp0_dst-png_s40x40&_nc_cat=1&_nc_sid=f5662c&_nc_ohc=tt8z1knDr6oQ7kNvwFjQZQP&_nc_oc=Adk5B7vST1kxheuDFvqXNcGF0AT-StYQlRAF_N5nEtnIsX2Q8quYivqMwcI7E2Rzf1s&_nc_zt=24&_nc_ht=scontent.fsgn5-8.fna&oh=00_AfUR6sbbnNPL0DBOS2edROl-_BZrbtGnFvF5NT6apAaLkQ&oe=68CB583A" alt="User Avatar" />
      <h3>{{ username }}</h3>
    </div>
    <ul class="sidebar-menu">
      <li><a>âœï¸ Chá»‰nh sá»­a há»“ sÆ¡</a></li>
      <li><a href="/chat" target="_blank">ğŸ’¬ Chat ngay</a></li> <!-- ğŸ‘ˆ NÃºt chat -->
      <li><a (click)="logout()">ğŸšª ÄÄƒng xuáº¥t</a></li>
    </ul>
  </aside>

  <!-- Content -->
  <section class="update-content">
    <div class="card">
      <h2>About</h2>
      <p><strong>Role:</strong> {{ userRole }}</p>
      <p *ngIf="userRole === 'student'">Báº¡n Ä‘ang Ä‘Äƒng nháº­p vá»›i quyá»n <b>Há»c sinh</b></p>
      <p *ngIf="userRole === 'tutor'">Báº¡n Ä‘ang Ä‘Äƒng nháº­p vá»›i quyá»n <b>Gia sÆ°</b></p>
      <p *ngIf="!userRole">Báº¡n chÆ°a Ä‘Äƒng nháº­p. Vui lÃ²ng <a routerLink="/login">Ä‘Äƒng nháº­p</a>.</p>
    </div>

    <form class="edit-form" (ngSubmit)="updateProfile()">
      <label>
        Username
        <input type="text" name="username" [(ngModel)]="username" required />
      </label>

      <label>
        Password
        <input type="password" name="password" [(ngModel)]="password" placeholder="Nháº­p máº­t kháº©u má»›i (náº¿u Ä‘á»•i)" />
      </label>

      <ng-container *ngIf="userRole === 'student'">
        <label>
          Grade
          <input
            type="number"
            name="grade"
            [(ngModel)]="grade"
            min="1"
            max="12"
          />
        </label>
      </ng-container>

      <label>
        Qualifications
        <input type="text" name="qualifications" [(ngModel)]="qualifications" [disabled]="userRole !== 'tutor'" />
      </label>

      <label>
        Skills
        <input type="text" name="skills" [(ngModel)]="skills" [disabled]="userRole !== 'tutor'" />
      </label>

      <label>
        Teaching Grades
        <input type="text" name="teachingGrades" [(ngModel)]="teachingGrades" [disabled]="userRole !== 'tutor'" />
      </label>

      <label>
        Description
        <input type="text" name="description" [(ngModel)]="description" [disabled]="userRole !== 'tutor'" />
      </label>

      <label>
        Price
        <input type="number" name="price" [(ngModel)]="price" min="0" [disabled]="userRole !== 'tutor'"/>
      </label>

      <ng-container *ngIf="userRole === 'tutor'">
        <label>
          Upload files:
          <input type="file" (change)="onFileSelected($event)" multiple />
        </label>

        <div *ngIf="promoFiles.length > 0">
          <p>File Ä‘Ã£ chá»n:</p>
          <ul>
            <li *ngFor="let file of promoFiles; let i = index">
              <a [href]="file" target="_blank">ğŸ“‚ File {{ i + 1 }}</a>
            </li>
          </ul>
        </div>
      </ng-container>

      <button class="btn btn-primary" type="submit">
        {{ isLoading ? 'Äang lÆ°u...' : 'Save Changes' }}
      </button>

      <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
      <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
    </form>
  </section>
</main>
