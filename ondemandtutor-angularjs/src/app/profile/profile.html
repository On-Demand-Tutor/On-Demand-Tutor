<header>
  <div class="container">
    <h1 class="logo">On-Demand-Tutor</h1>
    <nav>
      <ul>
        <li><a routerLink="/home">Trang chá»§</a></li>
        <li><a routerLink="/search_tutor">TÃ¬m gia sÆ°</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="profile-page">
  <!-- Sidebar -->
  <aside class="sidebar-profile">
    <div class="profile-avatar">
      <img src="https://scontent.fsgn5-8.fna.fbcdn.net/v/t1.30497-1/453178253_471506465671661_2781666950760530985_n.png?stp=cp0_dst-png_s40x40&_nc_cat=1&_nc_sid=f5662c&_nc_ohc=tt8z1knDr6oQ7kNvwFjQZQP&_nc_oc=Adk5B7vST1kxheuDFvqXNcGF0AT-StYQlRAF_N5nEtnIsX2Q8quYivqMwcI7E2Rzf1s&_nc_zt=24&_nc_ht=scontent.fsgn5-8.fna&oh=00_AfUR6sbbnNPL0DBOS2edROl-_BZrbtGnFvF5NT6apAaLkQ&oe=68CB583A" alt="User Avatar" />
      <h3>{{ username }}</h3>
    </div>
    <ul class="sidebar-menu-tutor">
      <li><a (click)="goUpdateProfile()">âœï¸ Chá»‰nh sá»­a há»“ sÆ¡</a></li>
      <li><a routerLink="/chat" target="_blank">ğŸ’¬ Chat ngay</a></li> <!-- ğŸ‘ˆ NÃºt chat -->
      <li><a (click)="logout()">ğŸšª ÄÄƒng xuáº¥t</a></li>
    </ul>
  </aside>

  <!-- Content -->
  <section class="profile-content" *ngIf="!isLoading; else loadingTpl">
    <div class="card">
      <h2>ğŸ“Œ ThÃ´ng tin tÃ i khoáº£n</h2>
      <div class="info-row"><b>Vai trÃ²:</b> {{ userRole }}</div>
      <div *ngIf="userRole === 'student'" class="info-row">
        <b>Lá»›p:</b> {{ grade }}
      </div>
      <ng-container *ngIf="userRole === 'tutor'">
        <div class="info-row"><b>TrÃ¬nh Ä‘á»™:</b> {{ qualifications }}</div>
        <div class="info-row"><b>Ká»¹ nÄƒng:</b> {{ skills }}</div>
        <div class="info-row"><b>Lá»›p dáº¡y:</b> {{ teachingGrades }}</div>
        <div class="info-row"><b>GiÃ¡ dáº¡y:</b> {{ price | currency:'VND' }}/h</div>
        <div class="info-row"><b>MÃ´ táº£:</b> {{ description }}</div>
        <div class="info-row" *ngIf="(promoFiles?.length ?? 0) > 0">
          <b>File Ä‘Ã­nh kÃ¨m:</b>
          <ul>
            <li *ngFor="let file of promoFiles; let i = index">
              <a [href]="file" target="_blank">ğŸ“‚ File {{ i + 1 }}</a>
            </li>
          </ul>
        </div>

      </ng-container>
    </div>

    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  </section>

  <!-- Loading -->
  <ng-template #loadingTpl>
    <div class="card loading-card">
      <p>â³ Äang táº£i thÃ´ng tin...</p>
    </div>
  </ng-template>
</main>
